{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antif\\\\WebstormProjects\\\\untitled3\\\\web-friends\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"./Component/Card\";\nimport Loading from \"./Component/loading\";\nimport Pagination from \"react-js-pagination\";\n\nfunction App() {\n  const [cardsToShow, setCardsToShow] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [activePage, setActivePage] = useState(1);\n  const [totalResults, setTotalResults] = useState(undefined);\n\n  async function fetchData(searchQuery, page) {\n    const url = `https://www.omdbapi.com/?i=tt3896198&apikey=8523cbb8&s=${searchQuery}&page=${page}`;\n    const res = await fetch(url);\n    res.json().then(res => {\n      setTotalResults(res.totalResults);\n      setCardsToShow(res.Search ? res.Search.slice(0, 8) : null);\n    });\n  }\n\n  const searchHandler = event => {\n    if (event) {\n      setSearchQuery(event.target.value);\n    }\n  };\n\n  const submitHandler = event => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    fetchData(searchQuery, activePage);\n  };\n\n  const paginationClickHandler = pageNumber => {\n    setActivePage(pageNumber);\n  };\n\n  const search = () => {\n    if (!totalResults) {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"m-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, \"You searched for: \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge badge-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 47\n        }\n      }, \" nothing found\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"m-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, \"You searched for: \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge badge-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 47\n        }\n      }, totalResults), \" results found\");\n    }\n  };\n\n  useEffect(() => {\n    submitHandler();\n  }, [activePage, totalResults]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar navbar-expand-lg bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar-brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Movie Catalog\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"navbar-nav mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-inline my-2 my-lg-0\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control col-3 mx-auto\",\n    style: {\n      width: \"40rem\"\n    },\n    type: \"search\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\",\n    value: searchQuery,\n    onChange: searchHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-success mx-3 \",\n    type: \"submit\",\n    style: {\n      width: \"7rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-link dropdown-toggle mx- 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Pavel Horski\"))))), cardsToShow && cardsToShow.length ? search() : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      border: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, cardsToShow && cardsToShow.length ? cardsToShow.map((card, id) => /*#__PURE__*/React.createElement(Card, {\n    card: card,\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 41\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loading, {\n    type: \"spin\",\n    color: \"#A8BDAB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    activePage: activePage,\n    itemsCountPerPage: 10,\n    totalItemsCount: totalResults,\n    pageRangeDisplayed: 10,\n    onChange: paginationClickHandler,\n    innerClass: \"pagination justify-content-center\",\n    itemClass: \"page-item\",\n    linkClass: \"page-link\",\n    prevPageText: \"Previous\",\n    nextPageText: \"Next\",\n    hideDisabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/antif/WebstormProjects/untitled3/web-friends/src/App.js"],"names":["React","useState","useEffect","Card","Loading","Pagination","App","cardsToShow","setCardsToShow","searchQuery","setSearchQuery","activePage","setActivePage","totalResults","setTotalResults","undefined","fetchData","page","url","res","fetch","json","then","Search","slice","searchHandler","event","target","value","submitHandler","preventDefault","paginationClickHandler","pageNumber","search","width","length","border","map","card","id"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport Card from \"./Component/Card\";\r\nimport Loading from \"./Component/loading\";\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nfunction App() {\r\n  const [cardsToShow, setCardsToShow] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [activePage, setActivePage] = useState(1);\r\n  const [totalResults, setTotalResults] = useState(undefined);\r\n\r\n\r\n  async function fetchData(searchQuery, page) {\r\n    const url = `https://www.omdbapi.com/?i=tt3896198&apikey=8523cbb8&s=${searchQuery}&page=${page}`;\r\n    const res = await fetch(url);\r\n    res.json().then((res) => {\r\n      setTotalResults(res.totalResults);\r\n      setCardsToShow(res.Search ? res.Search.slice(0, 8) : null);\r\n    });\r\n  }\r\n\r\n  const searchHandler = (event) => {\r\n    if (event) {\r\n      setSearchQuery(event.target.value);\r\n    }\r\n\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    fetchData(searchQuery, activePage);\r\n  };\r\n\r\n  const paginationClickHandler = (pageNumber) => {\r\n    setActivePage(pageNumber);\r\n  };\r\n  const search = () => {\r\n    if (!totalResults) {\r\n      return (\r\n        <h1 className='m-3'>You searched for: <span className=\"badge badge-secondary\"> nothing found</span></h1>\r\n      )\r\n    } else {\r\n      return (\r\n        <h1 className='m-3'>You searched for: <span\r\n          className=\"badge badge-secondary\">{totalResults}</span> results found</h1>\r\n      )\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    submitHandler();\r\n  }, [activePage, totalResults]);\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"navbar navbar-expand-lg bg-light\">\r\n        <div className=\"navbar-brand\">Movie Catalog</div>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <form className=\"form-inline my-2 my-lg-0\" onSubmit={submitHandler}>\r\n              <input\r\n                className=\"form-control col-3 mx-auto\"\r\n                style={{width: \"40rem\"}}\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                aria-label=\"Search\"\r\n                value={searchQuery}\r\n                onChange={searchHandler}\r\n              />\r\n              <button\r\n                className=\"btn btn-outline-success mx-3 \"\r\n                type=\"submit\"\r\n                style={{width: \"7rem\"}}\r\n              >\r\n                Search\r\n              </button>\r\n            </form>\r\n            <li className=\"nav-item \">\r\n              <div className=\"nav-link dropdown-toggle mx- 3\">Pavel Horski</div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      {cardsToShow && cardsToShow.length ? search() : null }\r\n      <div className=\"row\" style={{border: \"none\"}}>\r\n        {cardsToShow && cardsToShow.length ? (\r\n          cardsToShow.map((card, id) => <Card card={card} key={id}/>)\r\n        ) : (\r\n          <div className='col-10 d-flex justify-content-center align-items-center'>\r\n            <Loading type='spin' color='#A8BDAB'/>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='m-3'>\r\n        <Pagination activePage={activePage}\r\n                    itemsCountPerPage={10}\r\n                    totalItemsCount={totalResults}\r\n                    pageRangeDisplayed={10}\r\n                    onChange={paginationClickHandler}\r\n                    innerClass=\"pagination justify-content-center\"\r\n                    itemClass='page-item'\r\n                    linkClass=\"page-link\"\r\n                    prevPageText='Previous'\r\n                    nextPageText='Next'\r\n                    hideDisabled={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}